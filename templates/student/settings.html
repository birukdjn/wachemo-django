{% extends "base.html" %} 
{% load static %} 
{% if not user.is_authenticated %}
{% url 'login' as login %}
<script>
  window.location.href = "{{ login }}?next={{ request.path|urlencode }}";
</script>
{% else %} 
{% block title %}Settings - WachemoSaPS{% endblock %} 

{% block content %}



<div class="container-fluid">
  <div class="row">
    <!-- Sidebar -->
     {% include "student/sidebar.html" %}
     

<main class="col-md-9 ms-sm-auto col-lg-10 px-md-4"> 
      <div id="" class=" ">
        <div class="row mb-4">
          <div class="col">
            <h3 class="mb-3">Account Settings</h3>
            <div class="divider"></div>
          </div>
        </div>

        <div class="row">
          
          <!-- Profile Settings -->
          <div class="col-md-6 mb-4">
            <div class="card shadow-sm">
              <div class="card-header bg-light">
                <h5 class="mb-0">
                  <i class="bi bi-person-gear me-2"></i>Profile Information
                </h5>
              </div>
              <div class="card-body">
                <form id="profileForm">
                  <div class="mb-3">
                    <label for="firstName" class="form-label">First Name</label>
                    <input
                      type="text"
                      class="form-control"
                      id="firstName"
                      value="{{ user.first_name }}"
                    />
                  </div>
                  <div class="mb-3">
                    <label for="lastName" class="form-label">Last Name</label>
                    <input
                      type="text"
                      class="form-control"
                      id="lastName"
                      value="{{ user.last_name }}"
                    />
                  </div>
                  <div class="mb-3">
                    <label for="email" class="form-label">Email Address</label>
                    <input
                      type="email"
                      class="form-control"
                      id="email"
                      value="{{ user.email }}"
                    />
                  </div>
                  <div class="mb-3">
                    <label for="phone" class="form-label">Phone Number</label>
                    <input
                      type="tel"
                      class="form-control"
                      id="phone"
                      value="{{ user.student.phone|default:'' }}"
                    />
                  </div>
                  <button type="submit" class="btn btn-primary">
                    Update Profile
                  </button>
                </form>
              </div>
            </div>
          </div>
          

          <!-- Security Settings -->
          <div class="col-md-6 mb-4">
            <div class="card shadow-sm">
              <div class="card-header bg-light">
                <h5 class="mb-0">
                  <i class="bi bi-shield-lock me-2"></i>Security Settings
                </h5>
              </div>
              <div class="card-body">
                <form id="passwordForm">
                  <div class="mb-3">
                    <label for="email" class="form-label">Email Address</label>
                    <input type="email" class="form-control" id="email" />
                  </div>
                  <div class="mb-3">
                    <label for="currentPassword" class="form-label"
                      >Current Password</label
                    >
                    <input
                      type="password"
                      class="form-control"
                      id="currentPassword"
                    />
                  </div>
                  <div class="mb-3">
                    <label for="newPassword" class="form-label"
                      >New Password</label
                    >
                    <input
                      type="password"
                      class="form-control"
                      id="newPassword"
                    />
                  </div>
                  <div class="mb-3">
                    <label for="confirmPassword" class="form-label"
                      >Confirm New Password</label
                    >
                    <input
                      type="password"
                      class="form-control"
                      id="confirmPassword"
                    />
                  </div>
                  <button type="submit" class="btn btn-primary">
                    Change Password
                  </button>
                </form>
              </div>
            </div>
          </div>
        </div>

        <!-- Notification Preferences -->
        <div class="row">
          <div class="col-md-6 mb-4">
            <div class="card shadow-sm">
              <div class="card-header bg-light">
                <h5 class="mb-0">
                  <i class="bi bi-bell me-2"></i>Notification Preferences
                </h5>
              </div>
              <div class="card-body">
                <form id="notificationForm">
                  <div class="form-check form-switch mb-3">
                    <input
                      class="form-check-input"
                      type="checkbox"
                      id="emailNotifications"
                      checked
                    />
                    <label class="form-check-label" for="emailNotifications"
                      >Email Notifications</label
                    >
                  </div>
                  <div class="form-check form-switch mb-3">
                    <input
                      class="form-check-input"
                      type="checkbox"
                      id="smsNotifications"
                    />
                    <label class="form-check-label" for="smsNotifications"
                      >SMS Notifications</label
                    >
                  </div>
                  <div class="form-check form-switch mb-3">
                    <input
                      class="form-check-input"
                      type="checkbox"
                      id="assignmentAlerts"
                      checked
                    />
                    <label class="form-check-label" for="assignmentAlerts"
                      >Assignment Alerts</label
                    >
                  </div>
                  <div class="form-check form-switch mb-3">
                    <input
                      class="form-check-input"
                      type="checkbox"
                      id="gradeAlerts"
                      checked
                    />
                    <label class="form-check-label" for="gradeAlerts"
                      >Grade Updates</label
                    >
                  </div>
                  <div class="form-check form-switch mb-3">
                    <input
                      class="form-check-input"
                      type="checkbox"
                      id="eventReminders"
                      checked
                    />
                    <label class="form-check-label" for="eventReminders"
                      >Event Reminders</label
                    >
                  </div>
                  <div class="form-check form-switch mb-3">
                    <input
                      class="form-check-input"
                      type="checkbox"
                      id="classReminders"
                      checked
                    />
                    <label class="form-check-label" for="classReminders"
                      >Class Reminders</label
                    >
                  </div>
                  <button type="submit" class="btn btn-primary">
                    Save Preferences
                  </button>
                </form>
              </div>
            </div>
          </div>

          <!-- Account Preferences -->
          <div class="col-md-6 mb-4">
            <div class="card shadow-sm">
              <div class="card-header bg-light">
                <h5 class="mb-0">
                  <i class="bi bi-gear me-2"></i>Account Preferences
                </h5>
              </div>
              <div class="card-body">
                <form id="preferencesForm">
                  <div class="mb-3">
                    <label for="language" class="form-label">Language</label>
                    <select class="form-select" id="language">
                      <option value="en" selected>English</option>
                      <option value="am">Amharic</option>
                      <option value="om">Oromifa</option>
                    </select>
                  </div>
                  <div class="mb-3">
                    <label for="theme" class="form-label">Theme</label>
                    <select class="form-select" id="theme">
                      <option value="light" selected>Light</option>
                      <option value="dark">Dark</option>
                      <option value="system">System Default</option>
                    </select>
                  </div>
                  <div class="mb-3">
                    <label for="timezone" class="form-label">Timezone</label>
                    <select class="form-select" id="timezone">
                      <option value="Africa/Addis_Ababa" selected>
                        Addis Ababa (EAT)
                      </option>
                      <option value="UTC">UTC</option>
                    </select>
                  </div>
                  <button type="submit" class="btn btn-primary">
                    Save Preferences
                  </button>
                </form>
              </div>
            </div>
          </div>
        </div>

        <!-- Danger Zone -->
        <div class="row">
          <div class="col-12">
            <div class="card border-danger shadow-sm">
              <div class="card-header bg-danger text-white">
                <h5 class="mb-0">
                  <i class="bi bi-exclamation-triangle me-2"></i>Danger Zone
                </h5>
              </div>
              <div class="card-body">
                <div
                  class="d-flex justify-content-between align-items-center mb-3"
                >
                  <div>
                    <h6 class="mb-1">Deactivate Account</h6>
                    <p class="small mb-0">
                      Temporarily disable your account. You can reactivate it
                      later by logging in.
                    </p>
                  </div>
                  <button
                    class="btn btn-secondary px-2"
                    data-bs-toggle="modal"
                    data-bs-target="#deactivateModal"
                  >
                    Deactivate Account
                  </button>
                </div>
                <div class="d-flex justify-content-between align-items-center">
                  <div>
                    <h6 class="mb-1">Delete Account</h6>
                    <p class="small mb-0">
                      Permanently delete your account and all associated data.
                      This cannot be undone.
                    </p>
                  </div>
                  <button
                    class="btn btn-danger px-4"
                    data-bs-toggle="modal"
                    data-bs-target="#deleteModal"
                  >
                    Delete Account
                  </button>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Deactivate Account Modal -->
      <div
        class="modal fade"
        id="deactivateModal"
        tabindex="-1"
        aria-labelledby="deactivateModalLabel"
        aria-hidden="true"
      >
        <div class="modal-dialog">
          <div class="modal-content">
            <div class="modal-header bg-warning text-dark">
              <h5 class="modal-title" id="deactivateModalLabel">
                Deactivate Account
              </h5>
              <button
                type="button"
                class="btn-close"
                data-bs-dismiss="modal"
                aria-label="Close"
              ></button>
            </div>
            <div class="modal-body">
              <p>
                Are you sure you want to deactivate your account? You will be
                logged out immediately.
              </p>
              <p class="mb-0">
                To reactivate your account, simply log in again.
              </p>
            </div>
            <div class="modal-footer">
              <button
                type="button"
                class="btn btn-secondary"
                data-bs-dismiss="modal"
              >
                Cancel
              </button>
              <button
                type="button"
                class="btn btn-warning"
                id="confirmDeactivate"
              >
                Deactivate Account
              </button>
            </div>
          </div>
        </div>
      </div>

      <!-- Delete Account Modal -->
      <div
        class="modal fade"
        id="deleteModal"
        tabindex="-1"
        aria-labelledby="deleteModalLabel"
        aria-hidden="true"
      >
        <div class="modal-dialog">
          <div class="modal-content">
            <div class="modal-header bg-danger text-white">
              <h5 class="modal-title" id="deleteModalLabel">Delete Account</h5>
              <button
                type="button"
                class="btn-close"
                data-bs-dismiss="modal"
                aria-label="Close"
              ></button>
            </div>
            <div class="modal-body">
              <p class="text-danger">
                <strong>Warning: This action is permanent!</strong>
              </p>
              <p>
                All your data including grades, assignments, and profile
                information will be permanently deleted.
              </p>
              <p>Are you absolutely sure you want to proceed?</p>
              <div class="mb-3">
                <label for="deletePassword" class="form-label"
                  >Enter your password to confirm:</label
                >
                <input
                  type="password"
                  class="form-control"
                  id="deletePassword"
                />
              </div>
            </div>
            <div class="modal-footer">
              <button
                type="button"
                class="btn btn-secondary"
                data-bs-dismiss="modal"
              >
                Cancel
              </button>
              <button type="button" class="btn btn-danger" id="confirmDelete">
                Delete Account Permanently
              </button>
            </div>
          </div>
        </div>
    </div>
</main>



{% endblock %} 



{% endif %}