{% extends "base.html" %} 
{% load static %} 
{% if not user.is_authenticated %}
{% url 'login' as login %}
<script>
  window.location.href = "{{ login }}?next={{ request.path|urlencode }}";
</script>
{% else %} 
{% block title %}Settings - WachemoSaPS{% endblock %} 

{% block content %}

<div class="max-w-7xl mx-auto px-4 py-6 grid grid-cols-1 md:grid-cols-[16rem_1fr] gap-6">
  {% include "student/sidebar.html" %}
  <main>
    <div id="section-courses">
      <h3 class="text-2xl font-semibold">My Courses</h3>
      <p class="text-gray-600 mb-4">View and manage your enrolled courses.</p>
      {% if courses %}
      <div class="overflow-x-auto border rounded">
        <table class="min-w-full text-sm">
          <thead class="bg-gray-50 text-gray-700">
            <tr>
              <th class="text-left px-4 py-2">Course Code</th>
              <th class="text-left px-4 py-2">Course Name</th>
              <th class="text-left px-4 py-2">Instructor</th>
              <th class="text-left px-4 py-2">Credits</th>
              <th class="text-left px-4 py-2">Status</th>
              <th class="text-left px-4 py-2">Actions</th>
            </tr>
          </thead>
          <tbody class="divide-y">
            {% for course in courses %}
            <tr class="hover:bg-gray-50">
              <td class="px-4 py-2">{{ course.code }}</td>
              <td class="px-4 py-2">{{ course.name }}</td>
              <td class="px-4 py-2">{{ course.instructor }}</td>
              <td class="px-4 py-2">{{ course.credits|default:"-" }}</td>
              <td class="px-4 py-2">
                {% if course.is_active %}
                <span class="inline-flex items-center px-2 py-0.5 rounded text-xs bg-green-100 text-green-700">Active</span>
                {% else %}
                <span class="inline-flex items-center px-2 py-0.5 rounded text-xs bg-gray-100 text-gray-700">Inactive</span>
                {% endif %}
              </td>
              <td class="px-4 py-2">
                <a href="" class="inline-flex items-center gap-2 text-blue-600 hover:underline">
                  <i class="fas fa-eye"></i>
                  View
                </a>
              </td>
            </tr>
            {% endfor %}
          </tbody>
        </table>
      </div>
      {% else %}
      <div class="mt-3 bg-yellow-50 border border-yellow-200 text-yellow-800 rounded p-3">
        You are not enrolled in any courses yet.
      </div>
      {% endif %}
    </div>
  </main>
</div>

{% endblock %} 

{% endif %}